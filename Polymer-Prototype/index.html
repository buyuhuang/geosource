<!doctype html>
<html>

<head>

  <title>Geosource</title>

  <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">

  <script src="components/webcomponentsjs/webcomponents.js">
  </script>

  <link rel="import" href="components/font-roboto/roboto.html">
  <link rel="import" href="components/core-header-panel/core-header-panel.html">
  <link rel="import" href="components/core-toolbar/core-toolbar.html">
  <link rel="import" href="components/paper-tabs/paper-tabs.html">
  <link rel="import" href="post-list.html">
  <link rel="import" href="components/core-drawer-panel/core-drawer-panel.html">
  <link rel="import" href="components/google-map/google-map.html">
  <link rel="import" href="components/google-apis/google-apis.html">
  <link rel="import" href="components/core-icons/communication-icons.html">
  <link rel="import" href="components/core-menu/core-menu.html">
  <link rel="import" href="components/core-menu/core-submenu.html">
  <link rel="import" href="components/core-item/core-item.html">
  <link rel="import" href="components/paper-toggle-button/paper-toggle-button.html">
  <link rel="import" href="components/paper-input/paper-input.html">

  <style>
  html,body {
    height: 100%;
    margin: 0;
    background-color: #E5E5E5;
    font-family: 'RobotoDraft', sans-serif;
  }
  core-header-panel {
    height: 100%;
    overflow: auto;
    -webkit-overflow-scrolling: touch;
  }
  core-toolbar {
    background: #03a9f4;
    color: white;
  }
  #tabs {
    width: 100%;
    margin: 0;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
	text-transform: uppercase;
  }
  .container {
    width: 80%;
    margin: 30px 50px 0px 50px;
  }
  #core_drawer_panel {
    position: absolute;
    top: 0px;
    right: 0px;
    bottom: 0px;
    left: 0px;
    width: 100%;
    height: 100%;
  }
      #section1 {
        box-shadow: rgba(0, 0, 0, 0.0980392) 0px 2px 4px, rgba(0, 0, 0, 0.0980392) 0px 0px 3px;
        background-color: rgb(250, 250, 250);
      }
      #section2 {
        height: 100%;
        box-sizing: border-box;
        background-color: rgb(221, 221, 221);
      }
      #core_drawer_panel1 {
        position: absolute;
        top: 0px;
        right: 0px;
        bottom: 0px;
        left: 0px;
        width: 100%;
        height: 100%;
      }
      #section3 {
        box-shadow: rgba(0, 0, 0, 0.0980392) 0px 2px 4px, rgba(0, 0, 0, 0.0980392) 0px 0px 3px;
        background-color: rgb(250, 250, 250);
        overflow-x: auto;
      }
      #section4 {
        height: 100%;
        box-sizing: border-box;
        background-color: rgb(221, 221, 221);
      }
      #google_map {
        width: 100%;
        height: 100%;
        display: block;
        left: 0px;
        top: 0px;
        position: absolute;
      }
      #core_menu {
        font-size: 16px;
        width: 216px;
        position: absolute;
        margin: 20px;
      }
      #toggle-label {
        margin: 15px;
        margin-left: 0;
      }
      @media (min-width: 481px) {
        #tabs {
          width: 200px;
        }
        .container {
          width: 300px;
        }
      }
  </style>

</head>

<body unresolved>

  <core-header-panel id="core_header_panel">

<!--     <core-toolbar>

      <paper-tabs id="tabs" selected="all" self-end>
        <paper-tab name="all">All</paper-tab>
        <paper-tab name="favorites">Favorites</paper-tab>
      </paper-tabs>

    </core-toolbar> -->

      <core-toolbar id="core_toolbar">
        <paper-icon-button icon="menu" id="filter_button" core-drawer-toggle></paper-icon-button>
        <div id="div" one flex center-justified horizontal layout>GeoSource</div>
        <paper-icon-button icon="account-circle" id="feed_button"></paper-icon-button>
      </core-toolbar>

<!--     <section id="section">
      <core-drawer-panel transition selected="main" narrow id="core_drawer_panel" touch-action="pan-y">
        <section id="left_drawer" drawer>
        </section>
        <section id="content" main>

        </section>
      </core-drawer-panel>
    </section> -->


      <section id="section">
        <core-drawer-panel transition responsivewidth="800px" selected="main" id="core_drawer_panel">
          <section id="section1" drawer>

            <core-menu multi selected="0" selectedindex="0" id="core_menu">
              <core-submenu opened active id="core_submenu" icon="settings" label="Filters">
                <div center horizontal layout id="toggle-label">
                  <div flex>All</div>
                  <paper-toggle-button></paper-toggle-button>
                </div>
                <div center horizontal layout id="toggle-label">
                  <div flex>Mine</div>
                  <paper-toggle-button></paper-toggle-button>
                </div>
                <div center horizontal layout id="toggle-label">
                  <div flex>Favourites</div>
                  <paper-toggle-button></paper-toggle-button>
                </div>
              </core-submenu>
              <core-submenu opened id="core_submenu1" icon="settings" label="Channels">
                <core-item id="core_item2" label="All" horizontal center layout></core-item>
                <core-item id="core_item3" label="Mushrooms" horizontal center layout></core-item>
                <core-item id="core_item4" label="Birds" horizontal center layout></core-item>
              </core-submenu>
              <div center horizontal layout id="search">
                <paper-icon-button icon="search"></paper-icon-button>
                <paper-input label="Search for channels..."></paper-input>
              </div>
              
            </core-menu>

          </section>

          <section id="section2" main>
            <core-drawer-panel transition drawerwidth="400px" responsivewidth="800px" selected="main" narrow rightdrawer id="core_drawer_panel1">
              <section id="section3" drawer>
                <div class="container" layout vertical center>
                  <post-list id='list' show="all" on-set-location="asdf"></post-list>
                </div>
              </section>
              <section id="section4" main>
                <google-map latitude="37.44093707158905" longitude="-122.44757246582031" id="google_map"></google-map>
              </section>
            </core-drawer-panel>
          </section>
        </core-drawer-panel>
      </section>

  <script>
    // var tabs = document.querySelector('#tabs');
    var list = document.querySelector('#list');
    var feed_button = document.querySelector('#feed_button');
    var feed_drawer = document.querySelector('#core_drawer_panel1');

    var filter_button = document.querySelector('#filter_button');
    var filter_drawer = document.querySelector('#core_drawer_panel');

    var map = document.querySelector('#google_map');

    feed_button.addEventListener('click', function() {
        filter_drawer.closeDrawer();
        if(feed_drawer.narrow)
        {
          feed_drawer.forceNarrow = false;
          feed_drawer.togglePanel();
        }
        else
        {
          feed_drawer.forceNarrow = true;
        }
    });

    filter_button.addEventListener('click', function() {
        feed_drawer.closeDrawer();
        if(filter_drawer.narrow)
        {
          filter_drawer.forceNarrow = false;
          filter_drawer.togglePanel();
        }
        else
        {
          filter_drawer.forceNarrow = true;
        }
    }); 

    console.log("added listener");

    // tabs.addEventListener('core-select', function() {
    //   list.show = tabs.selected;
    // });
  </script>

  <script>
    function moveMap(event, detail, sender) {
        console.log('moved map');
        var map = document.querySelector('#google_map');
        map.latitude = 52.1333;
        map.longitude = -106.6833;
    }
  </script>

</body>

</html>
