<link rel="import" href="geosource-flags.html">
<link rel="import" href="geosource-channels.html">
<link rel="import" href="components/core-menu/core-menu.html">
<link rel="import" href="geosource-account.html">
<link rel="import" href="geosource-time.html">

<polymer-element name="geosource-settings" attributes="channels posts filteredPosts">

  <template>
    
    <style>
      #core_menu {
        font-size: 16px;
        position: absolute;
        padding: 10px;
      }
      .panel {
        margin-bottom: 30px;
      }
    </style>
      <div layout vertical center>
          <geosource-account id="account_panel" class="panel"
            uid="{{uid}}">
          </geosource-account>

          <geosource-flags id="flags_panel" class="panel"
            uid="{{uid}}">
          </geosource-flags>
          
          <geosource-time id="time_panel" class="panel">
          </geosource-time>

          <geosource-channels id="channels_panel" class="panel"
            channels="{{channels}}">
          </geosource-channels>
      </div>
  </template>

  <script>
    Polymer({

      channels: null,
      uid: null,

      filterPosts: function(posts) {
        var filteredPosts = this.$.flags_panel.filterPosts(posts);
        filteredPosts = this.$.time_panel.filterPosts(filteredPosts);
        filteredPosts = this.$.channels_panel.filterPosts(filteredPosts);
        
        return filteredPosts;
      },

    });
  </script>

</polymer-element>