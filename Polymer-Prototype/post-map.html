<link rel="import" href="components/polymer/polymer.html">
<link rel="import" href="post-service/post-service.html">
<link rel="import" href="post-card.html">
<link rel="import" href="components/google-map/google-map.html">

<polymer-element name="post-map" attributes="latitude longitude show channel posts">
  <template>

    <style>
      #google_map {
        width: 100%;
        height: 100%;
        display: block;
        left: 0px;
        top: 0px;
        position: absolute;
      }
    </style>

   <google-map latitude="{{latitude}}" longitude="{{longitude}}" id="google_map">

    <template repeat="{{post in posts}}">
      <google-map-marker id="marker"
        latitude="{{post.location.latitude}}"
        longitude="{{post.location.longitude}}"
        title="{{post.text}}">
      </google-map-marker>
    </template>
    </google-map>
  </template>
  

  <script>
  Polymer({
    show: 'all',
    channel: 'all', 
    showChanged: function(oldVal, newVal) {
      console.log('old: ' + oldVal, 'new: ' + newVal);
    },
    channelChanged: function(oldVal, newVal) {
      console.log('old: ' + oldVal, 'new: ' + newVal);
      // console.log(this.$.getElementsByClassName('google_map'));
    },
});
  </script>
</polymer-element>
